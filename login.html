<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>9PM游戏组队｜Login</title>
    <meta content="游戏组队" name="keywords">
    <link rel="icon" href="assets/img/controller_icon.png" type="image/x-icon" />
    <meta name="Description" content="浏览，发布线上游戏组队信息。让你的宅家生活不再无聊">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css" /> <!--root dir的独自的额外style-->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.7/css/jquery.dataTables.min.css" />
    <script src="https://cdn.datatables.net/1.10.7/js/jquery.dataTables.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
  
    <!-- Vendor CSS Files -->
    <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/vendor/icofont/icofont.min.css" rel="stylesheet">
    <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="assets/vendor/venobox/venobox.css" rel="stylesheet">
    <link href="assets/vendor/owl.carousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  
    <!-- Template Main CSS File -->
    <link href="assets/css/style.css" rel="stylesheet">


    <script type="text/javascript">
        $(document).ready(function () {
            function validateEmail($email) {
                // check if email is valid
                var emailReg = /^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/;
                return emailReg.test($email);
            }

            // $('.dialog').dialog({
            //     // jQuery UI dialog property settings
            //     draggable: false,
            //     resizable: false,
            //     modal: true,
            //     autoOpen: false,
            //     position: { my: 'top', at: 'top+150' },
            //     width: 'auto',
            // });

            // $('#forgot_pwd').click(function () {
            //     $('#forgot_email').val($('#email').val());
            //     $('#forgot_pwd_dialog').dialog('open');
            // })

            // $('#forgot_pwd_email').click(function () {
            //     var email = $('#forgot_email').val();
            //     // $.ajax({
            //     //     url: url + 'forgotStaff', // url read from web.config.js file 
            //     //     method: 'post',
            //     //     data: JSON.stringify({
            //     //         'email': email,
            //     //     }),
            //     //     contentType: "application/json; charset=utf-8",
            //     //     success: function (response) {
            //     //         if (response == 0) {
            //     //             alert("We just sent you a temporary password, please check your mailbox!");
            //     //             $('#forgot_pwd_dialog').dialog('close');
            //     //         } else if (response == 1) {
            //     //             alert("This user doesn't exist in our database.");
            //     //         } else if (response == -1) {
            //     //             alert("Error!")
            //     //         }
            //     //     },
            //     //     error: function (err) {
            //     //         alert(JSON.stringify(err));
            //     //     }
            //     // });
            // });

            $('#submit_login').click(function () {
                var email = $('#email').val();   
                var pwd = btoa($('#pwd').val()); // btoa is a js method that converts string to base64 encode; atob decodes it

                if (!validateEmail(email)) {
                    alert('Please enter a valid email address!')
                } else if (email == '' || pwd == '') {
                    alert("Please fill in all the fields!");
                } else {
                    window.location.href = "personal.html";
                    // $.ajax({
                    //     url: url + 'Login',
                    //     data: JSON.stringify({
                    //         "email": email,
                    //         "pwd": pwd
                    //     }),
                    //     type: 'post',
                    //     contentType: 'application/json',
                    //     success: function (response) {
                    //         if (response == 0) {
                    //             sessionStorage.setItem('email', email); // if success, store email in sessionStorage
                    //             window.location.href = "index.html";  // if success, redirect to the Home.html page
                    //         } else if (response == -1) {
                    //             alert("Error!")
                    //         } else if (response == 1) {
                    //             alert("Invalid Email or Password!");
                    //         }
                    //     },
                    //     error: function (err) {                 
                    //         alert(JSON.stringify(err));
                    //     }
                    // });
                }
            });
        })
    </script>
</head>

<body class="gradiantBg">
  <!-- ======= Header ======= -->
    <header id="header">
        <div class="container d-flex">
    
          <div class="logo mr-auto">
            <!-- <h1 class="text-light"><a href="index.html"><span id="easter_egg3">9PM</span></a></h1> -->
            <a href="index.html"><img src="images/9pm_logo.png" alt="" class="img-fluid"></a>
            <span id="easter_egg3" class="text-light" style="font-size: 2rem;"><a href="index.html">9PM</a></span>
          </div>
    
          <nav class="nav-menu d-none d-lg-block">
            <ul>
              <li><a href="index.html">欢迎 Home</a></li> 
              <li><a href="index.html#portfolio">组队 Team up</a></li>
              <li><a href="index.html#team">热力榜</a></li>
              <li><a href="index.html#faq">FAQ</a></li>
              <li><a href="personal.html">我的 My Teams</a></li>
              <li class="active"><a href="login.html">登陆login/登出logout</a></li>
            </ul>
          </nav><!-- .nav-menu -->
        </div>
    </header><!-- End Header -->



    <div class="container-fluid">
        <div class="row no-gutter">
            <div class="d-none d-md-flex col-md-4 col-lg-6 bg-image"></div>
            <div class="col-md-8 col-lg-6" style="background-color: rgba(254, 249, 247, 0.664); opacity: 1;">
            <div class="login d-flex align-items-center py-5">
                <div class="container">
                <div class="row">
                    <div class="col-md-9 col-lg-8 mx-auto">
                    <h3 class="login-heading mb-4" id="oldUserWelcome" style="display: block;"><b>欢迎回来！</b> <br>美好的夜晚，9PM与您相伴～</h3>
                    <h3 class="login-heading mb-4" id="newUserWelcome" style="display: none;"><b>很高兴认识你！</b> <br> 仅需最后一步就可以组队啦</h3>
                    <form>
                        <div class="form-label-group">
                        <input type="email" id="inputEmail" class="form-control" placeholder="Email address" required autofocus>
                        <label for="inputEmail">邮箱</label>
                        </div>
        
                        <div class="form-label-group">
                            <input type="password" id="inputPassword" class="form-control" placeholder="Password" required>
                            <label for="inputPassword">密码</label>
                        </div>

                        <div class="form-label-group" id="repeatPassword2" style="display: none;">
                            <input type="password" id="repeatPassword"  class="form-control" placeholder="Password" required onChange="checkPasswordMatch();">
                            <label for="repeatPassword" id="checkPassword">确认密码</label>
                        </div>
        
                        <div class="custom-control custom-checkbox mb-3">
                            <input type="checkbox" class="custom-control-input" id="newUser" onclick="show()">
                            <label class="custom-control-label" for="newUser">新用户|点击这里注册新账号</label>
                        </div>

                    
  
                        <script> 
                            function checkPasswordMatch() {
                                var password = $("#inputPassword").val();
                                var confirmPassword = $("#repeatPassword").val();

                                if (password != confirmPassword){
                                    $("#checkPassword").html("密码不一致");
                                    document.getElementById("checkPassword").style.color="red";
                                }
                                else{
                                    $("#checkPassword").html("输入正确");
                                    document.getElementById("checkPassword").style.color="green";
                                }
                            }

                            $(document).ready(function () {
                                $("#repeatPassword").keyup(checkPasswordMatch);
                            });


                            function addCode() { 
                                document.getElementById("add_to_me").innerHTML +=  
                                "<h3 id=\"repeat\">This is the text which has been inserted by JS</h3>"; 
                            } 
        

                            function show() {
                                var x = document.getElementById('repeatPassword2');
                                var y = document.getElementById('newUserWelcome'); 
                                var z = document.getElementById('oldUserWelcome'); 
                                var w = document.getElementById('signInButton'); 
                                var v = document.getElementById('signUpButton'); 

                                if (x.style.display === "none") {
                                    x.style.display = "block";
                                } else {
                                    x.style.display = "none";
                                }
                                if (y.style.display === "none") {
                                    y.style.display = "block";
                                } else {
                                    y.style.display = "none";
                                }
                                if (z.style.display === "none") {
                                    z.style.display = "block";
                                } else {
                                    z.style.display = "none";
                                }
                                if (w.style.display === "none") {
                                    w.style.display = "block";
                                } else {
                                    w.style.display = "none";
                                }
                                if (v.style.display === "none") {
                                    v.style.display = "block";
                                } else {
                                    v.style.display = "none";
                                }
                            }
                        </script> 

                        <button class="btn btn-lg btn-primary btn-block btn-login text-uppercase font-weight-bold mb-2" type="submit" id="signInButton" style="display: block;">登陆账号</button>
                        <button class="btn btn-lg btn-primary btn-block btn-login text-uppercase font-weight-bold mb-2" type="submit" id="signUpButton" style="display: none; background-color: #6ca849; border-color: #286202;">注册新账号</button>
                        <div class="text-center">
                        <a class="small" target="_blank" href="https://memegenerator.net/instance/64577703/willy-wonka-tell-me-again-how-you-forgot-your-password">忘记密码?</a></div>
                    </form>
                    </div>
                </div>
                </div>
            </div>
            </div>
        </div>
    </div>


<!-- Weiyi Zhu login table html -->
    <!-- <div class="login">
        
        <h1>登陆&nbsp;Login</h1>
        <form class="login_form">
            <div class="container">
                <input type="email" placeholder="Email" id="email" class="login_field" required>
                <input type="password" placeholder="Password" id="pwd" class="login_field" required>
                <input type="button" id="submit_login" value="Login">
                <br />
                <div id="forgot_pwd">
                    <a href="https://memegenerator.net/instance/64577703/willy-wonka-tell-me-again-how-you-forgot-your-password">Forgot password?</a>
                </div>
            </div>
        </form>
    </div> -->

    <!-- <table class="table dialog" id="forgot_pwd_dialog" title="Recover Password">
        <tr>
            <td>Email:</td>
            <td><input type="email" id="forgot_email" /></td>
        </tr>
        <tr>
            <td colspan="2"><input class="btn" type="button" id="forgot_pwd_email" value="Submit" /></td>
        </tr>
    </table>

    <script>for(var x=0;x<=3;x++){document.write("<br>")}</script>-->

    <!-- ======= Footer ======= -->
    <footer id="footer">
        <div id="footer_icon_container">
            <div class="homepage_footer_icons mail_white_icon" onclick="window.open('mailto:yum001@ucsd.edu')">
                <div id="homepage_footer_widget_mail" class="homepage_footer_widgets">
                </div>
            </div>
            <div class="homepage_footer_icons github_black_icon" onclick="window.open ('https://github.com/YueqianMa/Unicode_Hackathon')">
                <div id="homepage_footer_widget_github" class="homepage_footer_widgets">
                </div>
            </div>
    
            <div class="homepage_footer_icons green_icon" onmouseover="showImg('wechat')" onmouseout="hideImg('wechat')">
                <div id="homepage_footer_widget_wechat" class="homepage_footer_widgets">
                <img id="wechat" src="images/wechatQR3.jpg" style="opacity: 1; z-index: 1;">
                </div>
            </div>
    
            <div class="homepage_footer_icons facebook_blue_icon" onclick="window.open ('https://www.facebook.com')">
                <div id="homepage_footer_widget_facebook" class="homepage_footer_widgets">
                </div>
            </div>  
    
            <div class="homepage_footer_icons ins_pink_icon" onclick="window.open('https://www.instagram.com')">
                <div id="homepage_footer_widget_instagram" class="homepage_footer_widgets">
                </div>
            </div>
            </div>
    
        <div class="container d-lg-flex py-4">
            <div class="mr-lg-auto text-center text-lg-left"  style="text-align: center;">
            <div class="copyright">
                Copyright &copy; <script>document.write(new Date().getFullYear());</script> <strong>9PM</strong> All rights reserved.
            </div>
            <div style="opacity: 0.3;" >
                This template is made with ❤ by <a href="https://bootstrapmade.com/" target="_blank" class="text-primary">BootstrapMade</a>
            </div>
            </div>
        </div>
        </footer><!-- End Footer -->

        <a href="#" class="back-to-top"><i class="icofont-simple-up"></i></a>

        <!-- Vendor JS Files -->
        <script src="assets/vendor/jquery/jquery.min.js"></script>
        <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
        <script src="assets/vendor/jquery.easing/jquery.easing.min.js"></script>
        <script src="assets/vendor/php-email-form/validate.js"></script>
        <script src="assets/vendor/jquery-sticky/jquery.sticky.js"></script>
        <script src="assets/vendor/venobox/venobox.min.js"></script>
        <script src="assets/vendor/owl.carousel/owl.carousel.min.js"></script>
        <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
        <script src="assets/vendor/aos/aos.js"></script>
    
        <!-- Template Main JS File -->
        <script src="assets/js/main.js"></script>
        <script>
            function showImg(id) {
            document.getElementById(id).style.opacity = 1;
            document.getElementById(id).style.zIndex = "1";
            }
            function hideImg(id) {
            document.getElementById(id).style.opacity = 0;
            document.getElementById(id).style.zIndex = "-1";
            }
        </script>

        
    </body>
</html>